<!DOCTYPE html>
<html lang="zh">
<head>
	<meta charset="UTF-8">
	<title>canvas动画-旋转的风车</title>
	<style type="text/css">
		*{
			padding: 0;
			margin: 0;
		}
	</style>
</head>
<body>
	<canvas id="canvas" style="border:1px solid #ccc;margin:30px auto;display:block;">您的浏览器不支持canvas绘图</canvas>

	<script>
		var WINDOW_WIDTH = 600;
		var WINDOW_HEIGHT = 600;
		window.onload = function(){
			var canvasDom = document.getElementById("canvas");
			canvasDom.width = WINDOW_WIDTH;
			canvasDom.height = WINDOW_HEIGHT;

			if (canvasDom.getContext) {
				var ctx = canvasDom.getContext("2d");
				var num = 0;
				setInterval(function(){
					num++;
					rotate(ctx,num);
				},30)

			}else {
				alert("您的浏览器不支持canvas绘图");
			}
			
		}
		function rotate(ctx,num){
			ctx.clearRect(0,0,WINDOW_WIDTH,WINDOW_HEIGHT); // 每次绘图之前先清除画布
			ctx.save();
			ctx.translate(300,300);
			ctx.rotate(num*Math.PI/180);
			draw(ctx);
			ctx.restore();
		}
		function draw(ctx){
			ctx.beginPath();
			ctx.fillStyle = "red";
			ctx.moveTo(0,0);
			ctx.arcTo(100,-100,0,-200,142);
			ctx.closePath();
			ctx.fill();
			ctx.beginPath();
			ctx.fillStyle = "orange";
			ctx.moveTo(0,0);
			ctx.arcTo(100,100,200,0,142);  
			ctx.closePath();
			ctx.fill();
			ctx.beginPath();
			ctx.fillStyle = "yellow";
			ctx.moveTo(0,0);
			ctx.arcTo(-100,100,0,200,142);  
			ctx.closePath();
			ctx.fill();
			ctx.beginPath();
			ctx.fillStyle = "green";
			ctx.moveTo(0,0);
			ctx.arcTo(-100,-100,-200,0,142);
			ctx.closePath();
			ctx.fill();
		}
	</script>
</body>
</html>